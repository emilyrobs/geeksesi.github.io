<!DOCTYPE html>
<html lang=fa>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="img { max-width: 350px !important; }    Hello again. after 2 week i’m here. my first payment plugin did accept by Wordpress code review team and for now i’m a little busy for my new project. new proj">
<meta property="og:type" content="article">
<meta property="og:title" content="wordpress payment plugin part2">
<meta property="og:url" content="https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/">
<meta property="og:site_name" content="محمد جواد قاسمی - چرک‌نویس">
<meta property="og:description" content="img { max-width: 350px !important; }    Hello again. after 2 week i’m here. my first payment plugin did accept by Wordpress code review team and for now i’m a little busy for my new project. new proj">
<meta property="og:locale">
<meta property="og:image" content="https://geeksesi.ir/images/geeksesi-ir_wordpress_payment_plugin_p2.jpg">
<meta property="og:image" content="https://geeksesi.ir/images/geeksesi-ir_Sample-of-my-payment-page.jpg">
<meta property="article:published_time" content="1398-12-06T22:38:27.000Z">
<meta property="article:modified_time" content="1398-12-06T22:38:27.000Z">
<meta property="article:author" content="Mohammad Javad Ghasemy">
<meta property="article:tag" content="php">
<meta property="article:tag" content="wordpress">
<meta property="article:tag" content="payment">
<meta property="article:tag" content="woocommerce">
<meta property="article:tag" content="wordpress_plugin">
<meta property="article:tag" content="wordpress shortcodes">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://geeksesi.ir/images/geeksesi-ir_wordpress_payment_plugin_p2.jpg">
    
    
        
          
              <link rel="shortcut icon" href="https://www.gravatar.com/avatar/82aa142a58843bd395c527dbceb59f54?s=16">
          
        
        
          
            <link rel="icon" type="image/png" href="https://www.gravatar.com/avatar/82aa142a58843bd395c527dbceb59f54?s=192" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="https://www.gravatar.com/avatar/82aa142a58843bd395c527dbceb59f54?s=180">
          
        
    
    <!-- title -->
    <title>wordpress payment plugin part2</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
      <link rel="alternate" href="/true" title="محمد جواد قاسمی - چرک‌نویس" type="application/atom+xml" />
    
<meta name="generator" content="Hexo 5.1.1"></head>

<body class="max-width mx-auto px3 rtl">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">خانه</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://resume.geeksesei.ir">درباره‌من</a></li>
         
          <li><a href="/archives/">نوشته‌ها</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/geeksesi">پروژه‌ها</a></li>
         
          <li><a href="/categories/">دسته‌بندی</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/1398/12/13/get-love-and-money-together/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/1398/11/22/wordpress-payment-plugin-part1/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">پست پیشین</span>
      <span id="i-next" class="info" style="display:none;">پست یعدی</span>
      <span id="i-top" class="info" style="display:none;">بازگشت به بالا</span>
      <span id="i-share" class="info" style="display:none;">اشتراک‌گذاری</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&text=wordpress payment plugin part2"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&title=wordpress payment plugin part2"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&is_video=false&description=wordpress payment plugin part2"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=wordpress payment plugin part2&body=Check out this article: https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&title=wordpress payment plugin part2"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&title=wordpress payment plugin part2"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&title=wordpress payment plugin part2"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&title=wordpress payment plugin part2"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&name=wordpress payment plugin part2&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&t=wordpress payment plugin part2"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#What-is-shordcode-in-wordpress"><span class="toc-number">1.</span> <span class="toc-text">What is shordcode in wordpress.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#make-a-wordpress-shortcode-in-our-plugin"><span class="toc-number">2.</span> <span class="toc-text">make a wordpress shortcode in our plugin.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#final-speek"><span class="toc-number">3.</span> <span class="toc-text">final speek</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    

    
    <h1 class="posttitle" itemprop="name headline">
        wordpress payment plugin part2
    </h1>



    
    <div class="postdate">
      
        <time datetime="1398-12-06T22:38:27.000Z" itemprop="datePublished">۱۳۹۸-۱۲-۰۷</time>
        
      
    </div>


  </header>
  

  <div class="content" itemprop="articleBody">
    <style>
img { max-width: 350px !important; }
</style>

<p><img src="/images/geeksesi-ir_wordpress_payment_plugin_p2.jpg" alt="wordpress payment plugin" title="wordpress payment plugin part 2"></p>
<p>Hello again. after 2 week i’m here. my first payment plugin did accept by <strong>Wordpress code review team</strong> and for now i’m a little busy for my new project. new project is for Tezos network it’s a concept, the new one is harder than older and i think my skills did grow on it :D</p>
<p>ok let’s talk about how make payment plugin in part 2 :)</p>
<p>in <a href="https://geeksesi.ir/2020/02/11/wordpress-payment-plugin-part1">last part</a> we did speak about how make a wordpress plugin. in this part we will talk about shortcode.</p>
<p>first step i will refer you to official wordpress document : <a target="_blank" rel="noopener" href="https://codex.wordpress.org/Shortcode_API">shortcode</a><br>i did this because i don’t want to give a fish to you. you must to learn how find you problem answer. and if you have problem with official document you must to learn to use it. for now let’s to explain shortcodes more.</p>
<h2 id="What-is-shordcode-in-wordpress"><a href="#What-is-shordcode-in-wordpress" class="headerlink" title="What is shordcode in wordpress."></a>What is shordcode in wordpress.</h2><p>did you ever seen something like this ?</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[gallery]</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://codex.wordpress.org/Gallery_Shortcode">more about gallery in wordpress</a></p>
<p>in wordpress, developers can do a lot of things with shortcodes. in this plugin we must to handle a page refer user after any update of payment (success or fail). we haven’t access to make a route (with installed template) in plugin. i’m using shortcode to make a redirect page for payment. like this picture :</p>
<p><img src="/images/geeksesi-ir_Sample-of-my-payment-page.jpg" alt="Sample-of-my-payment-page" title="Sample-of-my-payment-page"></p>
<p>so i’m bad to explain things without sample. let’s talk about how we can made on of them.</p>
<h2 id="make-a-wordpress-shortcode-in-our-plugin"><a href="#make-a-wordpress-shortcode-in-our-plugin" class="headerlink" title="make a wordpress shortcode in our plugin."></a>make a wordpress shortcode in our plugin.</h2><p>it is tooooo much easy. just we need to call a wordpress function and a function as a callback. watch this :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">add_shortcode(&#39;my-awesome-name-for-shortcode&#39;, &quot;my_awesome_name_for_callback_funciton&quot;);</span><br><span class="line">function my_awesome_name_for_callback_funciton()&#123;</span><br><span class="line">    &#x2F;&#x2F; Put some Awesome code here please.</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>it’s realy easy. so now we have a shortcode and we can put in on our post or page like this :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[my-awesome-name-for-shortcode]</span><br></pre></td></tr></table></figure>

<p>if you want to refer callback to a class (playing with oop in wordpress :sweat_smile: ) just put array to callback place like this : <a target="_blank" rel="noopener" href="https://github.com/geeksesi/wp-zilon-woocommerce/blob/ea1373a1c3076898978077a0ce40fb61c6728a25/include/class/controller/WP_ZILON_WOOCOMMERCE_Controller.php#L17">+</a></p>
<h2 id="final-speek"><a href="#final-speek" class="headerlink" title="final speek"></a>final speek</h2><p>it’s too much easy. don’t afraid to make a plugin and test it on your own local wordpress site :) in next part we will talk about RestApi. there is to much things to say.</p>
<p>if you like start to make a plugin but u need help, don’t afraid to contact with me :wink:</p>

  </div>
  <br>
  <div class="meta">
    <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
      <span itemprop="name">محمد جواد قاسمی - چرک‌نویس</span>
    </span>
    <br>
    
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/php/">php</a> › <a class="category-link" href="/categories/php/wordpress/">wordpress</a>
    </div>


    
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/payment/" rel="tag">payment</a>, <a class="tag-link-link" href="/tags/php/" rel="tag">php</a>, <a class="tag-link-link" href="/tags/woocommerce/" rel="tag">woocommerce</a>, <a class="tag-link-link" href="/tags/wordpress/" rel="tag">wordpress</a>, <a class="tag-link-link" href="/tags/wordpress-shortcodes/" rel="tag">wordpress shortcodes</a>, <a class="tag-link-link" href="/tags/wordpress-plugin/" rel="tag">wordpress_plugin</a>
    </div>


  </div>
</article>
<br>
<hr>
<br>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>برای مشاهده دیدگاه‌ها، لطفا جاوااسکریپت را فعال کنید.</noscript>
        </div>
    </div>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">خانه</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://resume.geeksesei.ir">درباره‌من</a></li>
         
          <li><a href="/archives/">نوشته‌ها</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/geeksesi">پروژه‌ها</a></li>
         
          <li><a href="/categories/">دسته‌بندی</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#What-is-shordcode-in-wordpress"><span class="toc-number">1.</span> <span class="toc-text">What is shordcode in wordpress.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#make-a-wordpress-shortcode-in-our-plugin"><span class="toc-number">2.</span> <span class="toc-text">make a wordpress shortcode in our plugin.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#final-speek"><span class="toc-number">3.</span> <span class="toc-text">final speek</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&text=wordpress payment plugin part2"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&title=wordpress payment plugin part2"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&is_video=false&description=wordpress payment plugin part2"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=wordpress payment plugin part2&body=Check out this article: https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&title=wordpress payment plugin part2"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&title=wordpress payment plugin part2"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&title=wordpress payment plugin part2"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&title=wordpress payment plugin part2"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&name=wordpress payment plugin part2&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://geeksesi.ir/1398/12/07/wordpress-payment-plugin-part2/&t=wordpress payment plugin part2"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> منو</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> محتوا</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> اشتراک‌گذاری</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> بالا</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    حق‌کپی &copy; 2020 Mohammad Javad Ghasemy
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">خانه</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://resume.geeksesei.ir">درباره‌من</a></li>
         
          <li><a href="/archives/">نوشته‌ها</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/geeksesi">پروژه‌ها</a></li>
         
          <li><a href="/categories/">دسته‌بندی</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-154920522-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Baidu Analytics -->

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'geeksesi-ir';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


</body>
</html>
